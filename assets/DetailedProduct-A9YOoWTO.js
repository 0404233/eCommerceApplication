import{x as f,j as e,c as w,r as o,M as N,s as S}from"./index-O_ssjqPW.js";import{b as I,a as v}from"./DialogContent-Ce0zFRCe.js";import{I as C}from"./utils-Dy26T70t.js";import"./Modal-BdCn2tFC.js";const s={"detailed-product":"_detailed-product_1rlir_7","detailed-product-container":"_detailed-product-container_1rlir_17","detailed-product-slider":"_detailed-product-slider_1rlir_29","detailed-product-info":"_detailed-product-info_1rlir_31","detailed-product-title":"_detailed-product-title_1rlir_39","detailed-product-description":"_detailed-product-description_1rlir_53","price-container":"_price-container_1rlir_87","active-price":"_active-price_1rlir_97","full-price":"_full-price_1rlir_111","add-product":"_add-product_1rlir_125"},D=t=>{var p,x,_;const r=((p=t.name)==null?void 0:p["en-US"])||"Unnamed car",d=((x=t.description)==null?void 0:x["en-US"])||"No additional info",i=(_=t.masterVariant.prices)==null?void 0:_[0],n=i?i.value.centAmount/100:0;let c;i!=null&&i.discounted&&(c=i.discounted.value.centAmount/100);const u=t.masterVariant.images||[],m={name:r,description:d,price:n,images:u};return c&&(m.discounted=c),m},k=f(e.jsx("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"})),b=f(e.jsx("path",{d:"M17.77 3.77 16 2 6 12l10 10 1.77-1.77L9.54 12z"})),$="_slider_lc3x5_1",y="_modalSlider_lc3x5_21",l={slider:$,modalSlider:y,"slider-container":"_slider-container_lc3x5_35","slide-block":"_slide-block_lc3x5_49","slide-image":"_slide-image_lc3x5_61","slider-arrow":"_slider-arrow_lc3x5_95","arrow-left":"_arrow-left_lc3x5_121","arrow-right":"_arrow-right_lc3x5_129"},M=f(e.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),z=w(v)({"& .MuiDialog-paper":{maxWidth:"90vw",width:"90vw",height:"90vh",overflow:"hidden",backgroundColor:"#242424"},"& .MuiDialogContent-root":{padding:0,display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}});function A({images:t,isOpen:r,closeModal:d,imageIndex:i}){return e.jsx(z,{open:r,onClose:d,children:e.jsxs(I,{children:[e.jsx(C,{"aria-label":"close",onClick:d,sx:()=>({position:"absolute",right:0,top:0,color:"#ffffff",zIndex:999}),children:e.jsx(M,{fontSize:"large",sx:{filter:"drop-shadow(0 0 1px black)"}})}),e.jsx(h,{modalContext:!0,images:t,imageIndex:i})]})})}function h({images:t,modalContext:r=!1,imageIndex:d}){const[i,n]=o.useState(d||0),[c,u]=o.useState(!1),[m,p]=o.useState(!1),x=()=>{c||(u(!0),n(a=>a===t.length-1?0:a+1))},_=()=>{c||(u(!0),n(a=>a===0?t.length-1:a-1))},j=()=>{p(!1)};return o.useEffect(()=>{const a=setTimeout(()=>{u(!1)},500);return()=>clearTimeout(a)},[i]),e.jsxs(e.Fragment,{children:[!r&&e.jsx(A,{isOpen:m,closeModal:j,images:t,imageIndex:i}),e.jsxs("div",{className:`${l.slider} ${r?l.modalSlider:""}`,children:[e.jsx("div",{className:l["slider-container"],style:{transform:`translateX(-${i*100}%)`},children:t.map((a,g)=>e.jsx("div",{className:l["slide-block"],onClick:()=>p(!0),children:e.jsx("img",{className:l["slide-image"],src:a.url,alt:"Car Image"})},g))}),t.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:`${l["slider-arrow"]} ${l["arrow-left"]}`,onClick:_,children:e.jsx(b,{fontSize:"large"})}),e.jsx("button",{className:`${l["slider-arrow"]} ${l["arrow-right"]}`,onClick:x,children:e.jsx(k,{fontSize:"large"})})]})]})]})}function U(){const{id:t}=N(),[r,d]=o.useState(null);return o.useEffect(()=>{t&&(async()=>{const n=await S.getProductById(t),c=D(n);d(c)})()},[t]),e.jsx("main",{className:s["detailed-product"],children:r&&e.jsxs("div",{className:s["detailed-product-container"],children:[e.jsx("div",{className:s["detailed-product-slider"],children:e.jsx(h,{images:r.images})}),e.jsxs("div",{className:s["detailed-product-info"],children:[e.jsx("h1",{className:s["detailed-product-title"],children:r.name}),e.jsxs("p",{className:s["price-container"],children:[e.jsxs("span",{className:s["active-price"],children:["$",r.discounted??r.price]}),r.discounted&&e.jsxs("span",{className:s["full-price"],children:["$",r.price]})]}),e.jsx("p",{className:s["detailed-product-description"],children:r.description}),e.jsx("button",{className:s["add-product"],children:"add to basket"})]})]})})}export{U as default};
